# Спроектируйте базу данных 

Пользователи могут выкладывать код в репозитории, каждое изменение должно храниться и отслеживаться, у пользователей рейтинг есть.
Также имеется возможность добавлять ошибки, к ошибкам другие пользователи могут оставлять свои комментарии,
на каждый комментарий может быть дан ответ. К каждому проекту необходимо хранить Wiki, которое может редактировать
каждый пользователь, но одобрять только тот, который имеет подходящую роль. Также пользователи могут временно блокироваться.

## Напишите запросы

1. Напишите обычный select, который выводит для каждого репозитория всех пользователей, оставивших 3 наибольшее количество комментариев
(Т.е. если А оставил 100 комм.; Б-100; В-100; Г-100; С-99, то должны быть выведены все. Если А-100, Б-99, С-98, Д-97, то на вывод А,Б,С).
2. Написать функцию, которая выводит пользователя, который внёс наибольшее количество изменений за последние 10 дней 5 часов 11 минут.
3. Функция, которая выводит для заданного комментария все родительские комментарии.
4. Напишите процедуру, которая выводит для каждой ошибки комментарий, под котороым больше всего комментариев на всех уровнях. 
5. Напишите процедуру, которая для заданного пользователя возвращает по дням его изменения в различных репозиториях (столбец - номер дня, строка - репозиторий)
6. Напишите процедуру, которая при заданноой дате выводит 5 самых активных пользователей, которые зарегистрировались в ближайшее к заданной дате времени.
7. Напишите процедуру, которая уменьшает рейтинг заданного пользователя на N, если в его репозиторий добавили сообщение об ошибке, увеличивает на M, если владелец репозитория дал ответ. Также рейтинг может меняться в случае добавления новых изменений в репозитории, сообщение об ошибках в другие репозитории, изменение Wiki, а также в случае принятия изменений владельцем Wiki,
8. Напишите процедуру, которая выводит ранк пользователей по их рейтингу. Реализуйте задание 2-мя способами: 1) Без пропусков номеров (не важно сколько пользователей имеют одинаковый рейтинг, следующий пользователь с отличающимся баллом будет иметь следующий ранк (6 пользователей с одинаковым баллом и ранком - 6, следующий пользователь ранк 7)). 2) С пропуском номеров (если 3 пользователя 6 номер, то следующий должен быть иметь 9 ранк)
9. Напишите триггер, который запрещает редактировать Wiki тому пользователю, у которого нет соответствующей роли.
10. Напишите триггер, который проверяет комментарий на не нецензурную лексику и спам.
В комментарий не могут быть добавлены ссылки на внешние источники (только внутренние), не должен позволять флудить.
11. Напишите триггер, который подсчитывает количество строк внесённого в код изменения и записывает это значение в новую таблицу.
12. Положить выше написанные функции и процедуры в пакет.
Для функций без параметра создать переменную, при обращении к которой можно получить результат выполнения этой функции
(без обращения к самой функции). 
